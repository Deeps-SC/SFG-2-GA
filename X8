# Top row: header + monthly generate button
header_col, button_col = st.columns([3, 1])
with header_col:
    st.header("ğŸ“¦ SFG Extraction Tool")
with button_col:
    run_convert_button = st.button("ğŸ—“ï¸ Generate Master Schedule Dict")
    if run_convert_button:
        import convert
        try:
            convert.main()
            st.success("âœ… Master Schedule Dict generated successfully!")
        except Exception as e:
            st.error(f"âŒ Failed to generate schedule dict: {e}")

# Main row: left = extraction input + downloads, right = logs
col1, col2 = st.columns([1, 2])
with col1:
    st.subheader("âš™ï¸ Input")
    producer_ids_input = st.text_area(
        "Producer IDs",
        height=200,
        placeholder="P12345\nP67890"
    )
    run_button = st.button("â–¶ Run Extraction")
    st.markdown("---")
    # Download buttons will go here

with col2:
    st.subheader("ğŸ“ Logs")
    log_placeholder = st.empty()
    logger = StreamToLogger(log_placeholder)
